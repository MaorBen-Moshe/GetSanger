<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:GetSanger.ViewModels"
             xmlns:behaviors="clr-namespace:GetSanger.Behaviors"
             x:Class="GetSanger.Views.Registration.RegistrationPage"
             NavigationPage.HasNavigationBar="False">

    <ContentPage.BindingContext>
        <vm:LoginViewModel />
    </ContentPage.BindingContext>

    <ContentPage.Behaviors>
        <behaviors:EventToCommandBehavior EventName="Appearing"
                                          Command="{Binding AppearingPageCommand}" />
        <behaviors:EventToCommandBehavior EventName="Disappearing"
                                          Command="{Binding DisappearingPageCommand}" />
    </ContentPage.Behaviors>

    <Grid>
        <StackLayout  VerticalOptions="Center" 
                      Padding="5, 0, 5, 0" 
                      Grid.Row="0" 
                      Grid.RowSpan="2" 
                      Margin="0, 100, 0, 0">
            <Label Text="Get Sanger" 
                   FontSize="30"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="Black" />
            <Label Text="Be the best Sanger you can !"
                   FontSize="18"
                   HorizontalOptions="Center" />
            <Label Text="Treat the sangers well!" 
                   FontSize="14"
                   HorizontalOptions="Center" />
            <Frame BorderColor="Transparent">
                <StackLayout>
                    <Entry Keyboard="Email" 
                           Placeholder="Email" 
                           Text="{Binding Email, Mode=TwoWay}" />
                    <Entry IsPassword="True" 
                           Placeholder="Password" 
                           Text="{Binding Password, Mode=TwoWay}"
                           x:Name="m_PasswordEntry"/>
                    <Grid>
                        <Button Text="Forgot password?"  
                                HorizontalOptions="EndAndExpand" 
                                Grid.Column="1" 
                                BackgroundColor="Transparent" 
                                TextTransform="None" 
                                Command="{Binding ForgotPasswordCommand}"
                                CommandParameter="{Binding Email}"/>
                    </Grid>
                </StackLayout>
            </Frame>
            
            <Button Text="Login" 
                    Command="{Binding LoginCommand}"/>
            <BoxView HeightRequest="1" 
                     Color="Gray" 
                     IsVisible="true" />
            <Grid>
                <Button Text="Via Facebook"
                        Command="{Binding FaceBookLoginCommand}"
                        Grid.Row="0" 
                        Grid.Column="0" />
                <Button Text="Via Google" 
                        Command="{Binding GmailLoginCommand}"
                        Grid.Row="0" 
                        Grid.Column="1"/>
            </Grid>
        </StackLayout>


        <StackLayout VerticalOptions="EndAndExpand" 
                     Padding="5" 
                     Grid.Row="2">
            <Button Text="Sign up" 
                    VerticalOptions="EndAndExpand"
                    Command="{Binding SignUpCommand}"/>
        </StackLayout>
    </Grid>
</ContentPage>